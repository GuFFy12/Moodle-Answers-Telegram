import { Bot, Composer, Keyboard } from 'grammy';

import PrismaService from '../prisma.service';
import { Command, MyContext } from '../types';

export default class implements Command {
	composer: Composer<MyContext> = new Composer<MyContext>();

	constructor(public bot: Bot<MyContext>, public prisma: PrismaService) {
		this.composer.command(['start', 'help'], (ctx) => this.command(ctx));
		this.composer.hears(/(‚ùì )?–ü–æ–º–æ—â—å/, (ctx) => this.command(ctx));
	}

	async command(ctx: MyContext) {
		await ctx.reply(
			`‚ÑπÔ∏è <b>–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</b>
1. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å–≤–æ–∏ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞.
2. –≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤, —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞. \
–û–Ω —Å–æ–∑–¥–∞–Ω –¥–ª—è –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø–æ –∫–∞–∫–æ–π –ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–µ.
3. –ï—Å—Ç—å —Ç–∞–∫–∂–µ –æ—Ç–≤–µ—Ç—ã, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—á–µ–±–Ω—ã–π –≥–æ–¥. –û–¥–Ω–∞–∫–æ, —ç—Ç–∏ –æ—Ç–≤–µ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –¥–∞–Ω–Ω–æ–º –±–æ—Ç–µ –∏–∑-–∑–∞ —Ä–∞–∑–ª–∏—á–∏–π –≤ –≤–µ—Ä—Å–∏—è—Ö —Ö—Ä–∞–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö. \
–ï—Å–ª–∏ –≤—ã –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã, —è –º–æ–≥—É –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö —Å —ç—Ç–æ–π –≤–µ—Ä—Å–∏–µ–π —Å–∫—Ä–∏–ø—Ç–∞ –∏ –±–æ—Ç–∞.

üîó <b>–°—Å—ã–ª–∫–∏:</b>
<a href="https://youtu.be/iSvP56AJ4dk">–°–∫—Ä–∏–ø—Ç —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –°–î–û –£–ì–ê–¢–£</a>
<a href="https://t.me/+AzlTc2COncJmYzAy">–ù–æ–≤–æ—Å—Ç–∏ –±–æ—Ç–∞</a>
<a href="https://t.me/guffy_owo">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–æ—Ç–∞</a>
<a href="https://qiwi.com/n/AYYNITRROSELLER">–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è</a>

üôè <b>–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏:</b>
UGATU ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –°–î–û
GuFFy_OwO ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
Cattyn ‚Äî –ø–æ–º–æ—â—å –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ –±–æ—Ç–∞ (<a href="https://cattyn.dev">–ö–ª–∏–∫</a>)

<i>–ù–ï –°–ü–ò–°–´–í–ê–ô–¢–ï, –ë–£–î–¨–¢–ï –£–ú–ù–ï–ï!
–®–¢–£–†–ú–£–ô! –î–ï–†–ó–ê–ô! –¢–í–û–†–ò!</i>`,
			{
				parse_mode: 'HTML',
				disable_web_page_preview: true,
				reply_markup: new Keyboard([['üôã –û—Ç–≤–µ—Ç—ã'], ['üë§ –ü—Ä–æ—Ñ–∏–ª—å', 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', '‚ùì –ü–æ–º–æ—â—å']])
					.resized()
					.persistent(),
			},
		);
	}
}
